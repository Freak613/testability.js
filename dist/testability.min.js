/*! testability.js - v0.0.0
 *  Release on: 2015-06-13
 *  Copyright (c) 2015 Alfonso Presa
 *  Licensed MIT */
!function(a,b){"function"==typeof define&&define.amd?define([],function(){return b()}):"object"==typeof exports?module.exports=b():b()}(this,function(){"use strict";(function a(){if(!this||this.constructor!==a)return new a;var b=0,c=[];this.when={ready:function(a){0===b?a():c.push(a)}},this.wait={oneMore:function(){b+=1},oneLess:function(){b-=1,0===b&&setTimeout(function(){for(;0===b&&0!==c.length;)c.pop()()})},"for":function(a){this.oneMore(),a.then(this.oneLess)["catch"](this.oneLess)}}})()});