/*! testability.js - v0.2.0
 *  Release on: 2016-04-29
 *  Copyright (c) 2016 Alfonso Presa
 *  Licensed MIT */
!function(a,b){"function"==typeof define&&define.amd?define([],function(){return a.testability=b()}):"object"==typeof exports?module.exports=b():a.testability=b()}(this,function(){"use strict";var a=function b(){if(!this||this.constructor!==b)return new b;var a=0,c=[];this.when={ready:function(b){0===a?b():c.push(b)},readyFor:function(b,c){this.ready(function(){setTimeout(function(){var d=0===a;d?c():this.readyFor(b,c)},b)})}},this.wait={oneMore:function(){a+=1},oneLess:function(){a-=1,0===a&&setTimeout(function(){for(;0===a&&0!==c.length;)c.pop()()})},"for":function(a){this.oneMore(),a.then(this.oneLess)["catch"](this.oneLess)}}}();return a});